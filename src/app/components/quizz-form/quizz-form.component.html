<!-- Quizz Maker loading -->
<ng-container *ngIf="areQuizzCategoriesLoading; else quizForm">
  <div class="loading">Quizz Maker is loading...</div>
</ng-container>

<ng-template #quizForm>
  <!-- Form -->
  <ng-container *ngIf="quizCategories?.length && quizDifficulties?.length">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <!-- Category dropdown -->
      <div class="form-field">
        <div class="form-field-label">Category</div>
        <qzm-quizz-input
          [formControlName]="CATEGORY_FIELD"
          [options]="quizCategories"
          placeholder="Enter a category"
        >
        </qzm-quizz-input>
      </div>
      <!-- Subcategory dropdown -->
      <ng-container *ngIf="quizSubcategories?.length">
        <div class="form-field">
          <div class="form-field-label">Subcategory</div>
          <qzm-quizz-input
            [formControlName]="SUBCATEGORY_FIELD"
            [options]="quizSubcategories"
            placeholder="Enter a subcategory"
          >
          </qzm-quizz-input>
        </div>
      </ng-container>
      <!-- Difficulty dropdown -->
      <div class="form-field">
        <div class="form-field-label">Difficulty</div>
        <qzm-quizz-select
          [formControlName]="DIFFICULTY_FIELD"
          [options]="quizDifficulties"
          placeholder="Select a difficulty"
          [optionFormatFn]="formatQuizzDifficultyFn"
        >
        </qzm-quizz-select>
      </div>
      <!-- Create button -->
      <button
        class="create-button"
        type="submit"
        [disabled]="form.invalid"
      >
        Create
      </button>
    </form>
  </ng-container>

</ng-template>
