"use strict";(self.webpackChunkquizz_maker=self.webpackChunkquizz_maker||[]).push([[212],{7212:(Li,be,l)=>{l.r(be),l.d(be,{QuizzComponent:()=>Ti});var c=l(4755),q=l(727),i=l(1902);function Tt(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"button",2),i.NdJ("click",function(){i.CHM(e);const r=i.oxw();return i.KtG(r.action.emit("submit"))}),i._uU(1," Submit "),i.qZA()}}function It(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"button",3),i.NdJ("click",function(){i.CHM(e);const r=i.oxw();return i.KtG(r.action.emit("create"))}),i._uU(1," New quizz "),i.qZA()}}let Lt=(()=>{class t{constructor(){this.areResultsShown=!1,this.isQuizzComplete=!1,this.action=new i.vpe}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["qzm-quizz-action"]],inputs:{areResultsShown:"areResultsShown",isQuizzComplete:"isQuizzComplete"},outputs:{action:"action"},standalone:!0,features:[i.jDz],decls:2,vars:2,consts:[["class","submit-button",3,"click",4,"ngIf"],["class","create-button",3,"click",4,"ngIf"],[1,"submit-button",3,"click"],[1,"create-button",3,"click"]],template:function(e,o){1&e&&(i.YNc(0,Tt,2,0,"button",0),i.YNc(1,It,2,0,"button",1)),2&e&&(i.Q6J("ngIf",!o.areResultsShown&&o.isQuizzComplete),i.xp6(1),i.Q6J("ngIf",o.areResultsShown))},dependencies:[c.O5],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}button.submit-button[_ngcontent-%COMP%], button.create-button[_ngcontent-%COMP%]{min-height:4rem;width:25%;font-size:1.3rem;font-weight:900;background-color:#90ee90}button.submit-button[_ngcontent-%COMP%]:hover, button.create-button[_ngcontent-%COMP%]:hover{background-color:#ffb2ef}"],changeDetection:0}),t})();var Gt=l(2076),Ve=l(9751),Bt=l(4742),Ae=l(8421),Pt=l(3269),X=l(5403),Ht=l(3268),$t=l(1810),_=l(4004);let Me=(()=>{class t{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t}),t})(),b=(()=>{class t extends Me{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,features:[i.qOj]}),t})();const f=new i.OlP("NgValueAccessor"),Yt={provide:f,useExisting:(0,i.Gpc)(()=>F),multi:!0},Zt=new i.OlP("CompositionEventMode");let F=(()=>{class t extends Me{constructor(e,o,r){super(e,o),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jt(){const t=(0,c.q)()?(0,c.q)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(Zt,8))},t.\u0275dir=i.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&i.NdJ("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[i._Bn([Yt]),i.qOj]}),t})();function C(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function De(t){return null!=t&&"number"==typeof t.length}const d=new i.OlP("NgValidators"),y=new i.OlP("NgAsyncValidators"),Jt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ee{static min(n){return function Oe(t){return n=>{if(C(n.value)||C(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function Fe(t){return n=>{if(C(n.value)||C(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function Se(t){return C(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function xe(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function Ee(t){return C(t.value)||Jt.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function Qe(t){return n=>C(n.value)||!De(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function Ne(t){return n=>De(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function qe(t){if(!t)return k;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),o=>{if(C(o.value))return null;const r=o.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(n)}static nullValidator(n){return null}static compose(n){return Be(n)}static composeAsync(n){return Pe(n)}}function k(t){return null}function ke(t){return null!=t}function Te(t){return(0,i.QGY)(t)?(0,Gt.D)(t):t}function Ie(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function Le(t,n){return n.map(e=>e(t))}function Ge(t){return t.map(n=>function Wt(t){return!t.validate}(n)?n:e=>n.validate(e))}function Be(t){if(!t)return null;const n=t.filter(ke);return 0==n.length?null:function(e){return Ie(Le(e,n))}}function te(t){return null!=t?Be(Ge(t)):null}function Pe(t){if(!t)return null;const n=t.filter(ke);return 0==n.length?null:function(e){return function Rt(...t){const n=(0,Pt.jO)(t),{args:e,keys:o}=(0,Bt.D)(t),r=new Ve.y(s=>{const{length:a}=e;if(!a)return void s.complete();const u=new Array(a);let h=a,m=a;for(let M=0;M<a;M++){let v=!1;(0,Ae.Xf)(e[M]).subscribe((0,X.x)(s,K=>{v||(v=!0,m--),u[M]=K},()=>h--,void 0,()=>{(!h||!v)&&(m||s.next(o?(0,$t.n)(o,u):u),s.complete())}))}});return n?r.pipe((0,Ht.Z)(n)):r}(Le(e,n).map(Te)).pipe((0,_.U)(Ie))}}function ne(t){return null!=t?Pe(Ge(t)):null}function He(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function $e(t){return t._rawValidators}function Re(t){return t._rawAsyncValidators}function ie(t){return t?Array.isArray(t)?t:[t]:[]}function T(t,n){return Array.isArray(t)?t.includes(n):t===n}function Ue(t,n){const e=ie(n);return ie(t).forEach(r=>{T(e,r)||e.push(r)}),e}function Ye(t,n){return ie(n).filter(e=>!T(t,e))}class je{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=te(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=ne(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class p extends je{get formDirective(){return null}get path(){return null}}class z extends je{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ze{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let I=(()=>{class t extends Ze{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(z,2))},t.\u0275dir=i.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&i.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[i.qOj]}),t})(),Je=(()=>{class t extends Ze{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(p,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&i.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[i.qOj]}),t})();const S="VALID",G="INVALID",w="PENDING",x="DISABLED";function se(t){return(B(t)?t.validators:t)||null}function ae(t,n){return(B(n)?n.asyncValidators:t)||null}function B(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class et{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===S}get invalid(){return this.status===G}get pending(){return this.status==w}get disabled(){return this.status===x}get enabled(){return this.status!==x}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Ue(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Ue(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Ye(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Ye(n,this._rawAsyncValidators))}hasValidator(n){return T(this._rawValidators,n)}hasAsyncValidator(n){return T(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=w,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=x,this.errors=null,this._forEachChild(o=>{o.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=S,this._forEachChild(o=>{o.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===S||this.status===w)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?x:S}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=w,this._hasOwnPendingAsyncValidator=!0;const e=Te(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((o,r)=>o&&o._find(r),this)}getError(n,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?x:this.errors?G:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(w)?w:this._anyControlsHaveStatus(G)?G:S}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){B(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function tn(t){return Array.isArray(t)?te(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function nn(t){return Array.isArray(t)?ne(t):t||null}(this._rawAsyncValidators)}}class P extends et{constructor(n,e,o){super(se(e),ae(o,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,o={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function Xe(t,n,e){t._forEachChild((o,r)=>{if(void 0===e[r])throw new i.vHH(1002,"")})})(this,0,n),Object.keys(n).forEach(o=>{(function Ke(t,n,e){const o=t.controls;if(!(n?Object.keys(o):o).length)throw new i.vHH(1e3,"");if(!o[e])throw new i.vHH(1001,"")})(this,!0,o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(o=>{const r=this.controls[o];r&&r.patchValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((o,r)=>{o.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,o)=>(n[o]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&n(o,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,o]of Object.entries(this.controls))if(this.contains(e)&&n(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,o,r)=>((o.enabled||this.disabled)&&(e[r]=o.value),e))}_reduceChildren(n,e){let o=n;return this._forEachChild((r,s)=>{o=e(o,r,s)}),o}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const D=new i.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>H}),H="always";function E(t,n,e=H){le(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function sn(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&tt(t,n)})}(t,n),function ln(t,n){const e=(o,r)=>{n.valueAccessor.writeValue(o),r&&n.viewToModelUpdate(o)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function an(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&tt(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function rn(t,n){if(n.valueAccessor.setDisabledState){const e=o=>{n.valueAccessor.setDisabledState(o)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function R(t,n,e=!0){const o=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(o),n.valueAccessor.registerOnTouched(o)),Y(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function U(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function le(t,n){const e=$e(t);null!==n.validator?t.setValidators(He(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const o=Re(t);null!==n.asyncValidator?t.setAsyncValidators(He(o,n.asyncValidator)):"function"==typeof o&&t.setAsyncValidators([o]);const r=()=>t.updateValueAndValidity();U(n._rawValidators,r),U(n._rawAsyncValidators,r)}function Y(t,n){let e=!1;if(null!==t){if(null!==n.validator){const r=$e(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==n.validator);s.length!==r.length&&(e=!0,t.setValidators(s))}}if(null!==n.asyncValidator){const r=Re(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==n.asyncValidator);s.length!==r.length&&(e=!0,t.setAsyncValidators(s))}}}const o=()=>{};return U(n._rawValidators,o),U(n._rawAsyncValidators,o),e}function tt(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ce(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function de(t,n){if(!n)return null;let e,o,r;return Array.isArray(n),n.forEach(s=>{s.constructor===F?e=s:function dn(t){return Object.getPrototypeOf(t.constructor)===b}(s)?o=s:r=s}),r||o||e||null}function ot(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function rt(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const V=class extends et{constructor(n=null,e,o){super(se(e),ae(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=rt(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){ot(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){ot(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){rt(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),ht=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();const pe=new i.OlP("NgModelWithFormControlWarning"),vn={provide:z,useExisting:(0,i.Gpc)(()=>j)};let j=(()=>{class t extends z{set isDisabled(e){}constructor(e,o,r,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new i.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(o),this.valueAccessor=de(0,r)}ngOnChanges(e){if(this._isControlChanged(e)){const o=e.form.previousValue;o&&R(o,this,!1),E(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ce(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&R(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(i.Y36(d,10),i.Y36(y,10),i.Y36(f,10),i.Y36(pe,8),i.Y36(D,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i._Bn([vn]),i.qOj,i.TTD]}),t})();const bn={provide:p,useExisting:(0,i.Gpc)(()=>Z)};let Z=(()=>{class t extends p{constructor(e,o,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.vpe,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Y(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const o=this.form.get(e.path);return E(o,e,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){R(e.control||null,e,!1),function hn(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this.submitted=!0,function it(t,n){t._syncPendingControls(),n.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const o=e.control,r=this.form.get(e.path);o!==r&&(R(o||null,e),(t=>t instanceof V)(r)&&(E(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const o=this.form.get(e.path);(function nt(t,n){le(t,n)})(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const o=this.form.get(e.path);o&&function un(t,n){return Y(t,n)}(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){le(this.form,this),this._oldForm&&Y(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(d,10),i.Y36(y,10),i.Y36(D,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,o){1&e&&i.NdJ("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([bn]),i.qOj,i.TTD]}),t})();const Mn={provide:z,useExisting:(0,i.Gpc)(()=>me)};let me=(()=>{class t extends z{set isDisabled(e){}constructor(e,o,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new i.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(o),this._setAsyncValidators(r),this.valueAccessor=de(0,s)}ngOnChanges(e){this._added||this._setUpControl(),ce(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function $(t,n){return[...n.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(i.Y36(p,13),i.Y36(d,10),i.Y36(y,10),i.Y36(f,10),i.Y36(pe,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([Mn]),i.qOj,i.TTD]}),t})(),Gn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[ht]}),t})(),ze=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:pe,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:D,useValue:e.callSetDisabledState??H}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[Gn]}),t})();var O=l(8505);function Dt(t){return n=>t&&n.value&&!t.includes(n.value)?{error:"Non existing value"}:null}var g=l(1135),Ot=l(9841),J=l(9646),Pn=l(6550);let Hn=(()=>{class t{constructor(e){this.sanitizer=e}transform(e,o){if(!e)return"";if(!o)return e;const r=e.toLowerCase().indexOf(o.toLowerCase()),s=r+o.length,a=e.substring(0,r),u=e.substring(r,s),h=e.substring(s,e.length);return this.sanitizer.bypassSecurityTrustHtml(`${a}<span style="font-size:1.1rem;font-weight:bolder;">${u}</span>${h}`)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Pn.H7,16))},t.\u0275pipe=i.Yjl({name:"qzmBoldFilter",type:t,pure:!0,standalone:!0}),t})();function $n(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",4),i.NdJ("click",function(){const s=i.CHM(e).$implicit,a=i.oxw(2);return i.KtG(a.onOptionClick(s))})("keydown.Enter",function(){const s=i.CHM(e).$implicit,a=i.oxw(2);return i.KtG(a.onOptionClick(s))})("keydown.Tab",function(){const s=i.CHM(e).last,a=i.oxw(2);return i.KtG(a.onOptionsTabKeydown(s))}),i.ALo(1,"qzmBoldFilter"),i.qZA()}if(2&t){const e=n.$implicit,o=i.oxw(2);i.Q6J("innerHTML",i.xi3(1,1,e,o.control.value),i.oJD)}}const Ft=function(t){return{disabled:t}};function Rn(t,n){if(1&t&&(i.TgZ(0,"div",2),i.YNc(1,$n,2,4,"div",3),i.ALo(2,"async"),i.qZA()),2&t){const e=i.oxw();i.Q6J("ngClass",i.VKq(4,Ft,e.disabled)),i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,2,e.filteredOptions$))}}let Un=(()=>{class t{constructor(){this.options=null,this.placeholder=null,this.disabled=!1,this.control=new V(null),this.filterOption$=new g.X(null),this.areOptionsVisible=!1,this.onChange=()=>{},this.onTouched=()=>{},this.subscription=new q.w0}onMouseover(){!this.areOptionsVisible&&!this.disabled&&this.showOptions(!0)}onMouseleave(){this.areOptionsVisible&&!this.disabled&&this.showOptions(!1)}ngOnInit(){this.defineFilteredOptions(),this.updateOnValueChange()}ngOnDestroy(){this.subscription.unsubscribe()}defineFilteredOptions(){this.filteredOptions$=(0,Ot.a)([(0,J.of)(this.options),this.filterOption$]).pipe((0,_.U)(([e,o])=>e?e.filter(r=>!o||r.toLowerCase().includes(o.toLowerCase())):null))}updateOnValueChange(){this.subscription.add(this.control.valueChanges.pipe((0,O.b)(e=>{this.filterOption$.next(e),this.onChange(e)})).subscribe())}onInputFocus(){this.disabled||this.showOptions(!0)}onInputInput(){this.disabled||this.showOptions(!0)}onInputBlur(){this.showOptions(!1)}onOptionsTabKeydown(e){e&&this.showOptions(!1)}onOptionClick(e){this.control.setValue(e),this.showOptions(!1)}showOptions(e){this.areOptionsVisible=e}writeValue(e){this.control.setValue(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["qzm-quizz-input"]],hostBindings:function(e,o){1&e&&i.NdJ("mouseover",function(){return o.onMouseover()})("mouseleave",function(){return o.onMouseleave()})},inputs:{options:"options",placeholder:"placeholder",disabled:"disabled"},standalone:!0,features:[i._Bn([{provide:f,useExisting:(0,i.Gpc)(()=>t),multi:!0}]),i.jDz],decls:2,vars:7,consts:[[1,"input",3,"ngClass","placeholder","formControl","tabIndex","focus","input","keydown.Shift.Tab"],["class","options-container",3,"ngClass",4,"ngIf"],[1,"options-container",3,"ngClass"],["class","option","tabindex","0",3,"innerHTML","click","keydown.Enter","keydown.Tab",4,"ngFor","ngForOf"],["tabindex","0",1,"option",3,"innerHTML","click","keydown.Enter","keydown.Tab"]],template:function(e,o){1&e&&(i.TgZ(0,"input",0),i.NdJ("focus",function(){return o.onInputFocus()})("input",function(){return o.onInputInput()})("keydown.Shift.Tab",function(){return o.onInputBlur()}),i.qZA(),i.YNc(1,Rn,3,6,"div",1)),2&e&&(i.Q6J("ngClass",i.VKq(5,Ft,o.disabled))("placeholder",o.placeholder)("formControl",o.control)("tabIndex",o.disabled?-1:0),i.xp6(1),i.Q6J("ngIf",(null==o.options?null:o.options.length)&&o.areOptionsVisible))},dependencies:[c.ez,c.mk,c.sg,c.O5,c.Ov,ze,F,I,j,Hn],styles:[".input[_ngcontent-%COMP%]{min-width:16rem}.options-container[_ngcontent-%COMP%]{position:absolute;z-index:2;display:flex;flex-direction:column;border:dashed 3px;border-top:none;min-width:16rem;background-color:#fff}.options-container[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{width:15.5rem;padding:.5rem;min-width:16rem}.options-container[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#a388ee}.disabled[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0}),t})();function Yn(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",4),i.NdJ("click",function(){const s=i.CHM(e).$implicit,a=i.oxw(2);return i.KtG(a.onOptionClick(s))})("keydown.Enter",function(){const s=i.CHM(e).$implicit,a=i.oxw(2);return i.KtG(a.onOptionClick(s))})("keydown.Tab",function(){const s=i.CHM(e).last,a=i.oxw(2);return i.KtG(a.onOptionsTabKeydown(s))}),i._uU(1),i.qZA()}if(2&t){const e=n.$implicit,o=i.oxw(2);i.xp6(1),i.hij(" ",o.optionFormatFn(e)," ")}}const St=function(t){return{disabled:t}};function jn(t,n){if(1&t&&(i.TgZ(0,"div",2),i.YNc(1,Yn,2,1,"div",3),i.qZA()),2&t){const e=i.oxw();i.Q6J("ngClass",i.VKq(2,St,e.disabled)),i.xp6(1),i.Q6J("ngForOf",e.options)}}let Zn=(()=>{class t{constructor(){this.options=null,this.selectedOption=null,this.placeholder=null,this.disabled=!1,this.optionFormatFn=e=>e,this.control=new V(null),this.areOptionsVisible=!1,this.onChange=()=>{},this.onTouched=()=>{}}onMouseover(){!this.areOptionsVisible&&!this.disabled&&this.showOptions(!0)}onMouseleave(){this.areOptionsVisible&&!this.disabled&&this.showOptions(!1)}onInputFocus(){this.disabled||this.showOptions(!0)}onInputBlur(){this.showOptions(!1)}onOptionsTabKeydown(e){e&&this.showOptions(!1)}onOptionClick(e){this.selectedOption=e,this.control.setValue(this.optionFormatFn(e)),this.onChange(this.selectedOption),this.showOptions(!1)}showOptions(e){this.areOptionsVisible=e}writeValue(e){this.control.setValue(this.optionFormatFn(e))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["qzm-quizz-select"]],hostBindings:function(e,o){1&e&&i.NdJ("mouseover",function(){return o.onMouseover()})("mouseleave",function(){return o.onMouseleave()})},inputs:{options:"options",selectedOption:"selectedOption",placeholder:"placeholder",disabled:"disabled",optionFormatFn:"optionFormatFn"},standalone:!0,features:[i._Bn([{provide:f,useExisting:(0,i.Gpc)(()=>t),multi:!0}]),i.jDz],decls:2,vars:7,consts:[["readonly","",1,"input",3,"ngClass","placeholder","formControl","tabIndex","focus","keydown.Shift.Tab"],["class","options-container",3,"ngClass",4,"ngIf"],[1,"options-container",3,"ngClass"],["class","option","tabindex","0",3,"click","keydown.Enter","keydown.Tab",4,"ngFor","ngForOf"],["tabindex","0",1,"option",3,"click","keydown.Enter","keydown.Tab"]],template:function(e,o){1&e&&(i.TgZ(0,"input",0),i.NdJ("focus",function(){return o.onInputFocus()})("keydown.Shift.Tab",function(){return o.onInputBlur()}),i.qZA(),i.YNc(1,jn,2,4,"div",1)),2&e&&(i.Q6J("ngClass",i.VKq(5,St,o.disabled))("placeholder",o.placeholder)("formControl",o.control)("tabIndex",o.disabled?-1:0),i.xp6(1),i.Q6J("ngIf",(null==o.options?null:o.options.length)&&o.areOptionsVisible))},dependencies:[c.ez,c.mk,c.sg,c.O5,ze,F,I,j],styles:[".input[_ngcontent-%COMP%]{min-width:16rem}.options-container[_ngcontent-%COMP%]{position:absolute;z-index:2;display:flex;flex-direction:column;border:dashed 3px;border-top:none;min-width:16rem;background-color:#fff}.options-container[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{width:15.5rem;padding:.5rem;min-width:16rem}.options-container[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#a388ee}.disabled[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0}),t})();function Jn(t,n){1&t&&(i.ynx(0),i.TgZ(1,"div",2),i._uU(2,"Quizz Maker is loading..."),i.qZA(),i.BQk())}function Wn(t,n){if(1&t&&(i.ynx(0),i.TgZ(1,"div",5)(2,"div",6),i._uU(3,"Subcategory"),i.qZA(),i._UZ(4,"qzm-quizz-input",10),i.qZA(),i.BQk()),2&t){const e=i.oxw(3);i.xp6(4),i.Q6J("formControlName",e.SUBCATEGORY_FIELD)("options",e.quizSubcategories)}}function Kn(t,n){if(1&t){const e=i.EpF();i.ynx(0),i.TgZ(1,"form",4),i.NdJ("ngSubmit",function(){i.CHM(e);const r=i.oxw(2);return i.KtG(r.onSubmit())}),i.TgZ(2,"div",5)(3,"div",6),i._uU(4,"Category"),i.qZA(),i._UZ(5,"qzm-quizz-input",7),i.qZA(),i.YNc(6,Wn,5,2,"ng-container",3),i.TgZ(7,"div",5)(8,"div",6),i._uU(9,"Difficulty"),i.qZA(),i._UZ(10,"qzm-quizz-select",8),i.qZA(),i.TgZ(11,"button",9),i._uU(12," Create "),i.qZA()(),i.BQk()}if(2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("formGroup",e.form),i.xp6(4),i.Q6J("formControlName",e.CATEGORY_FIELD)("options",e.quizCategories),i.xp6(1),i.Q6J("ngIf",null==e.quizSubcategories?null:e.quizSubcategories.length),i.xp6(4),i.Q6J("formControlName",e.DIFFICULTY_FIELD)("options",e.quizDifficulties)("optionFormatFn",e.formatQuizzDifficultyFn),i.xp6(1),i.Q6J("disabled",e.form.invalid)}}function Xn(t,n){if(1&t&&i.YNc(0,Kn,13,8,"ng-container",3),2&t){const e=i.oxw();i.Q6J("ngIf",(null==e.quizCategories?null:e.quizCategories.length)&&(null==e.quizDifficulties?null:e.quizDifficulties.length))}}let ei=(()=>{class t{constructor(){this.CATEGORY_FIELD="category",this.SUBCATEGORY_FIELD="subcategory",this.DIFFICULTY_FIELD="difficulty",this.areQuizzCategoriesLoading=!1,this.quizCategories=[],this.quizSubcategories=[],this.quizDifficulties=[],this.selectCategory=new i.vpe,this.createQuizz=new i.vpe,this.formatQuizzDifficultyFn=e=>e?e.label:null,this.subscription=new q.w0}get categoryControl(){return this.form.get(this.CATEGORY_FIELD)}get subcategoryControl(){return this.form.get(this.SUBCATEGORY_FIELD)}get difficultyControl(){return this.form.get(this.DIFFICULTY_FIELD)}ngOnChanges(e){if(!this.form)return;const o=e.quizCategories;o?.currentValue?.length&&this.categoryControl.addValidators(Dt(o.currentValue));const r=e.quizSubcategories;r?.currentValue?.length?this.form.addControl(this.SUBCATEGORY_FIELD,new V(null,[ee.required,Dt(r.currentValue)])):this.form.removeControl(this.SUBCATEGORY_FIELD)}ngOnInit(){this.initializeForm()}ngOnDestroy(){this.subscription.unsubscribe()}initializeForm(){this.form=new P({[this.CATEGORY_FIELD]:new V(null,[ee.required]),[this.DIFFICULTY_FIELD]:new V(null,ee.required)}),this.subscription.add(this.categoryControl.valueChanges.pipe((0,O.b)(e=>{this.selectCategory.emit(e),this.subcategoryControl?.reset()})).subscribe())}onSubmit(){this.createQuizz.emit({category:this.categoryControl.value,subcategory:this.subcategoryControl?.value,difficulty:this.difficultyControl.value.value})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["qzm-quizz-form"]],inputs:{areQuizzCategoriesLoading:"areQuizzCategoriesLoading",quizCategories:"quizCategories",quizSubcategories:"quizSubcategories",quizDifficulties:"quizDifficulties"},outputs:{selectCategory:"selectCategory",createQuizz:"createQuizz"},standalone:!0,features:[i.TTD,i.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["quizForm",""],[1,"loading"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-field"],[1,"form-field-label"],["placeholder","Enter a category",3,"formControlName","options"],["placeholder","Select a difficulty",3,"formControlName","options","optionFormatFn"],["type","submit",1,"create-button",3,"disabled"],["placeholder","Enter a subcategory",3,"formControlName","options"]],template:function(e,o){if(1&e&&(i.YNc(0,Jn,3,0,"ng-container",0),i.YNc(1,Xn,1,1,"ng-template",null,1,i.W1O)),2&e){const r=i.MAs(2);i.Q6J("ngIf",o.areQuizzCategoriesLoading)("ngIfElse",r)}},dependencies:[c.O5,ze,ct,I,Je,Z,me,Un,Zn],styles:[".loading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}form[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:1rem}form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-field-label[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:900;cursor:default}form[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{min-height:3rem;min-width:8rem}form[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:disabled{background-color:#d3d3d3;cursor:default}form[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:not(:disabled){background-color:#90ee90;cursor:pointer}form[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#ffb2ef}"],changeDetection:0}),t})(),ti=(()=>{class t{constructor(){this.reload=new i.vpe}onReloadClick(){this.reload.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["qzm-quizz-ko"]],outputs:{reload:"reload"},standalone:!0,features:[i.jDz],decls:4,vars:0,consts:[[1,"unexpected-error"],[1,"reload-button",3,"click"]],template:function(e,o){1&e&&(i.TgZ(0,"div",0),i._uU(1," An unexpected error occured...\n"),i.qZA(),i.TgZ(2,"button",1),i.NdJ("click",function(){return o.onReloadClick()}),i._uU(3," Reload the page\n"),i.qZA())},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:3rem}.unexpected-error[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700}.reload-button[_ngcontent-%COMP%]{min-width:14rem;min-height:4rem;font-size:1.4rem}"],changeDetection:0}),t})(),ni=(()=>{class t{transform(e,o,r){return r&&e===o.correctAnswer?"correct":r&&e===o.userAnswer&&o.correctAnswer!==o.userAnswer?"incorrect":r||e!==o.userAnswer?"":"picked"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Yjl({name:"qzmAnswerColor",type:t,pure:!1,standalone:!0}),t})();function ii(t,n){1&t&&(i.ynx(0),i.TgZ(1,"div",2),i._uU(2,"Your quizz is loading..."),i.qZA(),i.BQk())}function oi(t,n){if(1&t){const e=i.EpF();i.ynx(0),i.TgZ(1,"button",10),i.NdJ("click",function(){const s=i.CHM(e).$implicit,a=i.oxw().$implicit,u=i.oxw(3);return i.KtG(u.pickAnswerForQuestion(s,a.question))}),i.ALo(2,"qzmAnswerColor"),i._UZ(3,"span",11),i.qZA(),i.BQk()}if(2&t){const e=n.$implicit,o=i.oxw().$implicit,r=i.oxw(3);i.xp6(1),i.Q6J("ngClass",i.Dn7(2,3,e,o,r.disabled))("tabindex",r.disabled?-1:0),i.xp6(2),i.Q6J("innerHTML",e,i.oJD)}}function ri(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"button",12),i.NdJ("click",function(){i.CHM(e);const r=i.oxw().$implicit,s=i.oxw(3);return i.KtG(s.onChangeQuizzLine(r))}),i._uU(1," Change "),i.qZA()}}const si=function(t){return{disabled:t}};function ai(t,n){if(1&t&&(i.TgZ(0,"div",5),i._UZ(1,"div",6),i.TgZ(2,"div",7),i.YNc(3,oi,4,7,"ng-container",8),i.YNc(4,ri,2,0,"button",9),i.qZA()()),2&t){const e=n.$implicit,o=i.oxw(3);i.Q6J("ngClass",i.VKq(4,si,o.disabled)),i.xp6(1),i.Q6J("innerHTML",e.question,i.oJD),i.xp6(2),i.Q6J("ngForOf",e.answers),i.xp6(1),i.Q6J("ngIf",o.canQuestionBeChanged&&!o.disabled)}}function li(t,n){if(1&t&&(i.ynx(0),i.YNc(1,ai,5,6,"div",4),i.BQk()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",e.quizLines)}}function ui(t,n){if(1&t&&i.YNc(0,li,2,1,"ng-container",3),2&t){const e=i.oxw();i.Q6J("ngIf",null==e.quizLines?null:e.quizLines.length)}}let ci=(()=>{class t{constructor(){this.areQuizzLinesLoading=!1,this.quizLines=[],this.canQuestionBeChanged=!0,this.disabled=!1,this.pickAnswer=new i.vpe,this.changeQuizzLine=new i.vpe}pickAnswerForQuestion(e,o){this.pickAnswer.emit({answer:e,question:o})}onChangeQuizzLine(e){this.changeQuizzLine.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["qzm-quizz-lines"]],inputs:{areQuizzLinesLoading:"areQuizzLinesLoading",quizLines:"quizLines",canQuestionBeChanged:"canQuestionBeChanged",disabled:"disabled"},outputs:{pickAnswer:"pickAnswer",changeQuizzLine:"changeQuizzLine"},standalone:!0,features:[i.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["questions",""],[1,"loading"],[4,"ngIf"],["class","quizz-line",3,"ngClass",4,"ngFor","ngForOf"],[1,"quizz-line",3,"ngClass"],[1,"quizz-question",3,"innerHTML"],[1,"quizz-answers"],[4,"ngFor","ngForOf"],["class","blue",3,"click",4,"ngIf"],[1,"quizz-button",3,"ngClass","tabindex","click"],[3,"innerHTML"],[1,"blue",3,"click"]],template:function(e,o){if(1&e&&(i.YNc(0,ii,3,0,"ng-container",0),i.YNc(1,ui,1,1,"ng-template",null,1,i.W1O)),2&e){const r=i.MAs(2);i.Q6J("ngIf",o.areQuizzLinesLoading)("ngIfElse",r)}},dependencies:[c.ez,c.mk,c.sg,c.O5,ni],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.loading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.quizz-line[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:.5rem;margin:1rem}.quizz-line.disabled[_ngcontent-%COMP%]{pointer-events:none}.quizz-line[_ngcontent-%COMP%]   .quizz-question[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}.quizz-line[_ngcontent-%COMP%]   .quizz-answers[_ngcontent-%COMP%]{display:flex;gap:1rem}.quizz-line[_ngcontent-%COMP%]   .quizz-answers[_ngcontent-%COMP%]   button.quizz-button[_ngcontent-%COMP%]{min-height:4rem;width:25%;background-color:#a388ee}.quizz-line[_ngcontent-%COMP%]   .quizz-answers[_ngcontent-%COMP%]   button.quizz-button.correct[_ngcontent-%COMP%]{background-color:#90ee90}.quizz-line[_ngcontent-%COMP%]   .quizz-answers[_ngcontent-%COMP%]   button.quizz-button.incorrect[_ngcontent-%COMP%]{background-color:#ff7a5c}.quizz-line[_ngcontent-%COMP%]   .quizz-answers[_ngcontent-%COMP%]   button.quizz-button[_ngcontent-%COMP%]:hover, .quizz-line[_ngcontent-%COMP%]   .quizz-answers[_ngcontent-%COMP%]   button.quizz-button.picked[_ngcontent-%COMP%]{background-color:#ffb2ef}"],changeDetection:0}),t})();class ve{constructor(){}static shuffleAnswers(n){return n.map(e=>({value:e,sortValue:Math.random()})).sort((e,o)=>e.sortValue-o.sortValue).map(({value:e})=>e)}static getCorrectAnswersNumberFromQuizzLines(n){return n?n.filter(e=>e.userAnswer===e.correctAnswer).length:0}}let di=(()=>{class t{transform(e){const o=ve.getCorrectAnswersNumberFromQuizzLines(e);return 0===o||1===o?"incorrect":2===o||3===o?"neutral":"correct"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Yjl({name:"qzmScoreColor",type:t,pure:!0,standalone:!0}),t})(),hi=(()=>{class t{transform(e){return e?`You scored ${ve.getCorrectAnswersNumberFromQuizzLines(e)} out of ${e.length}`:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Yjl({name:"qzmScoreFormat",type:t,pure:!0,standalone:!0}),t})();function pi(t,n){if(1&t&&(i.ynx(0),i.TgZ(1,"div",1),i.ALo(2,"qzmScoreColor"),i._uU(3),i.ALo(4,"qzmScoreFormat"),i.qZA(),i.BQk()),2&t){const e=i.oxw();i.xp6(1),i.Q6J("ngClass",i.lcZ(2,2,e.quizLines)),i.xp6(2),i.hij(" ",i.lcZ(4,4,e.quizLines)," ")}}let fi=(()=>{class t{constructor(){this.quizLines=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["qzm-quizz-score"]],inputs:{quizLines:"quizLines"},standalone:!0,features:[i.jDz],decls:1,vars:1,consts:[[4,"ngIf"],[1,"quizz-score",3,"ngClass"]],template:function(e,o){1&e&&i.YNc(0,pi,5,6,"ng-container",0),2&e&&i.Q6J("ngIf",null==o.quizLines?null:o.quizLines.length)},dependencies:[c.ez,c.mk,c.O5,di,hi],styles:[".quizz-score[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:1rem 0;border:dotted 4px;padding:2rem 4rem;font-size:2rem;font-weight:900}.quizz-score.correct[_ngcontent-%COMP%]{background-color:#90ee90}.quizz-score.neutral[_ngcontent-%COMP%]{background-color:#87ceeb}.quizz-score.incorrect[_ngcontent-%COMP%]{background-color:#ff7a5c}"],changeDetection:0}),t})();var xt=l(262),Et=l(8746),Qt=l(515),gi=l(5577),mi=l(4482),_i=l(4671);class Ci extends q.w0{constructor(n,e){super()}schedule(n,e=0){return this}}const W={setInterval(t,n,...e){const{delegate:o}=W;return o?.setInterval?o.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=W;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var yi=l(8737);const Nt={now:()=>(Nt.delegate||Date).now(),delegate:void 0};class N{constructor(n,e=N.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,o){return new this.schedulerActionCtor(this,n).schedule(o,e)}}N.now=Nt.now;const bi=new class vi extends N{constructor(n,e=N.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let o;this._active=!0;do{if(o=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,o){for(;n=e.shift();)n.unsubscribe();throw o}}}(class zi extends Ci{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var o;if(this.closed)return this;this.state=n;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,o=0){return W.setInterval(n.flush.bind(n,this),o)}recycleAsyncId(n,e,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return e;null!=e&&W.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(n,e);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r,o=!1;try{this.work(n)}catch(s){o=!0,r=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:o}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,yi.P)(o,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}});var Vi=l(3532);var Di=l(2843),qt=l(3144);let Oi=(()=>{class t{constructor(e){this.http=e}getApiCategories(){return this.http.get("https://opentdb.com/api_category.php").pipe((0,_.U)(e=>e.trivia_categories))}getQuizzCategories(){const e=": ";return this.getApiCategories().pipe((0,_.U)(o=>o.map(r=>r.name.includes(e)?{id:r.id,name:r.name.split(e)[0],subcategory:r.name.split(e)[1]}:{id:r.id,name:r.name,subcategory:null})))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(qt.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Fi=(()=>{class t{constructor(e){this.http=e}getApiQuestions(e,o){return this.http.get(`https://opentdb.com/api.php?amount=5&category=${e}&difficulty=${o}&type=multiple`).pipe((0,_.U)(r=>r.results))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(qt.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Si=(()=>{class t{getQuizzDifficulties(){return(0,J.of)([{label:"Easy",value:"easy"},{label:"Medium",value:"medium"},{label:"Hard",value:"hard"}])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var xi=l(1663);let Ei=(()=>{class t{constructor(e,o,r,s){this.categoryService=e,this.questionService=o,this.difficultyService=r,this.router=s,this.areQuizzCategoriesLoading$=new g.X(!1),this.areQuizzLinesLoading$=new g.X(!1),this.isQuizzMakerKo$=new g.X(!1),this.quizCategories$=new g.X(null),this.selectedQuizzCategory$=new g.X(null),this.quizLines$=new g.X([]),this.isQuizzComplete$=new g.X(!1),this.actualQuizzConfig$=new g.X(null),this.canQuestionBeChanged$=new g.X(!0),this.areResultsShown$=new g.X(!1)}areQuizzCategoriesLoading(){return this.areQuizzCategoriesLoading$.asObservable()}areQuizzLinesLoading(){return this.areQuizzLinesLoading$.asObservable()}isQuizzMakerKo(){return this.isQuizzMakerKo$.asObservable()}canQuestionBeChanged(){return this.canQuestionBeChanged$.asObservable()}areResultsShown(){return this.areResultsShown$.asObservable()}initializeQuizzCategories(){return this.areQuizzCategoriesLoading$.next(!0),this.categoryService.getQuizzCategories().pipe((0,O.b)(e=>this.quizCategories$.next(e)),(0,xt.K)(e=>this.handleQuizzError("Error retrieving categories",e)),(0,Et.x)(()=>this.areQuizzCategoriesLoading$.next(!1)))}getQuizzCategories(){return this.quizCategories$.asObservable().pipe((0,_.U)(e=>e?.map(o=>o.name)),(0,_.U)(e=>[...new Set(e)]))}getQuizzSubcategories(){return(0,Ot.a)([this.quizCategories$,this.selectedQuizzCategory$]).pipe((0,_.U)(([e,o])=>{if(!e)return null;const r=e.filter(s=>s.subcategory&&s.name===o).map(s=>s.subcategory);return[...new Set(r)]}))}getQuizzDifficulties(){return this.difficultyService.getQuizzDifficulties()}getQuizzLines(){return this.quizLines$.asObservable()}isQuizzComplete(){return this.isQuizzComplete$.asObservable()}reloadQuizz(){this.isQuizzMakerKo$.next(!1),this.router.navigate([""])}selectCategory(e){this.selectedQuizzCategory$.next(e)}createQuizzLines(e){if(this.areQuizzLinesLoading$.next(!0),!e)return this.areQuizzLinesLoading$.next(!1),(0,J.of)([]);const o=this.getQuizzCategory(e);return this.actualQuizzConfig$.next(e),this.questionService.getApiQuestions(o.id,e.difficulty).pipe((0,O.b)(r=>{this.quizLines$.next(r.map(s=>this.createQuizzLineFromApiQuestion(s)))}),(0,xt.K)(r=>this.handleQuizzError("Error creating quizz lines",r)),(0,Et.x)(()=>this.areQuizzLinesLoading$.next(!1)))}pickAnswer(e){this.updateQuizzState(e),this.updateIsQuizzComplete()}changeQuizzLine(e){const o=this.actualQuizzConfig$.value?.category,r=this.actualQuizzConfig$.value?.difficulty;if(!o||!r||!this.quizCategories$.value)return Qt.E;const a=this.getQuizzCategory(this.actualQuizzConfig$.value);return this.questionService.getApiQuestions(a.id,r).pipe((0,gi.z)(u=>this.selectNewApiQuestion(u)),(0,O.b)(u=>this.replaceQuizzLine(e,u)),(0,O.b)(()=>this.isQuizzComplete$.next(!1)),function wi(t=1/0){let n;n=t&&"object"==typeof t?t:{count:t};const{count:e=1/0,delay:o,resetOnSuccess:r=!1}=n;return e<=0?_i.y:(0,mi.e)((s,a)=>{let h,u=0;const m=()=>{let M=!1;h=s.subscribe((0,X.x)(a,v=>{r&&(u=0),a.next(v)},void 0,v=>{if(u++<e){const K=()=>{h?(h.unsubscribe(),h=null,m()):M=!0};if(null!=o){const Ii="number"==typeof o?function Mi(t=0,n,e=bi){let o=-1;return null!=n&&((0,Vi.K)(n)?e=n:o=n),new Ve.y(r=>{let s=function Ai(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=o?this.schedule(void 0,o):r.complete())},s)})}(o):(0,Ae.Xf)(o(v,u)),kt=(0,X.x)(a,()=>{kt.unsubscribe(),K()},()=>{a.complete()});Ii.subscribe(kt)}else K()}else a.error(v)})),M&&(h.unsubscribe(),h=null,m())};m()})}())}showQuizzResults(){this.areResultsShown$.next(!0)}createNewQuizz(){this.resetQuizz()}handleQuizzError(e,o){return this.isQuizzMakerKo$.next(!0),console.error(e,o),Qt.E}createQuizzLineFromApiQuestion(e){return{question:e.question,answers:ve.shuffleAnswers([...e.incorrect_answers,e.correct_answer]),correctAnswer:e.correct_answer,userAnswer:null}}updateQuizzState(e){this.quizLines$.next([...this.quizLines$.value].map(o=>(o.question===e.question&&(o.userAnswer=e.answer),o)))}updateIsQuizzComplete(){this.isQuizzComplete$.next(this.quizLines$.value.every(e=>!!e.userAnswer))}resetQuizz(){this.quizLines$.next([]),this.isQuizzComplete$.next(!1),this.actualQuizzConfig$.next(null),this.selectedQuizzCategory$.next(null),this.canQuestionBeChanged$.next(!0),this.areResultsShown$.next(!1)}getQuizzCategory(e){if(!e||!this.quizCategories$.value)throw new Error("No quizz config or quizz categories defined");const o=this.quizCategories$.value.find(r=>r.name===e.category);if(!o)throw new Error(`Quizz category ${o} doesn't exist`);return o}selectNewApiQuestion(e){const o=this.quizLines$.value.map(s=>s.question),r=e.filter(s=>!o.includes(s.question));return 0===r.length?(0,Di._)(()=>"No new question found"):(0,J.of)(r[0])}replaceQuizzLine(e,o){const r=this.createQuizzLineFromApiQuestion(o),s=[...this.quizLines$.value].map(a=>a.question===e.question?r:a);this.quizLines$.next(s),this.canQuestionBeChanged$.next(!1)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Oi),i.LFG(Fi),i.LFG(Si),i.LFG(xi.F0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Qi(t,n){if(1&t){const e=i.EpF();i.ynx(0),i.TgZ(1,"qzm-quizz-ko",2),i.NdJ("reload",function(){i.CHM(e);const r=i.oxw();return i.KtG(r.onReload())}),i.qZA(),i.BQk()}}function Ni(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"qzm-quizz-form",7),i.NdJ("selectCategory",function(r){i.CHM(e);const s=i.oxw(2);return i.KtG(s.selectCategory(r))})("createQuizz",function(r){i.CHM(e);const s=i.oxw(2);return i.KtG(s.createQuizzLines(r))}),i.ALo(1,"async"),i.ALo(2,"async"),i.ALo(3,"async"),i.ALo(4,"async"),i.qZA()}if(2&t){const e=i.oxw(2);i.Q6J("areQuizzCategoriesLoading",i.lcZ(1,4,e.areQuizzCategoriesLoading$))("quizCategories",i.lcZ(2,6,e.quizCategories$))("quizSubcategories",i.lcZ(3,8,e.quizSubcategories$))("quizDifficulties",i.lcZ(4,10,e.quizDifficulties$))}}function qi(t,n){if(1&t&&(i._UZ(0,"qzm-quizz-score",8),i.ALo(1,"async")),2&t){const e=i.oxw(2);i.Q6J("quizLines",i.lcZ(1,1,e.quizLines$))}}function ki(t,n){if(1&t){const e=i.EpF();i.YNc(0,Ni,5,12,"qzm-quizz-form",3),i.ALo(1,"async"),i.TgZ(2,"qzm-quizz-lines",4),i.NdJ("pickAnswer",function(r){i.CHM(e);const s=i.oxw();return i.KtG(s.pickAnswer(r))})("changeQuizzLine",function(r){i.CHM(e);const s=i.oxw();return i.KtG(s.changeQuizzLine(r))}),i.ALo(3,"async"),i.ALo(4,"async"),i.ALo(5,"async"),i.ALo(6,"async"),i.qZA(),i.YNc(7,qi,2,3,"qzm-quizz-score",5),i.ALo(8,"async"),i.TgZ(9,"qzm-quizz-action",6),i.NdJ("action",function(r){i.CHM(e);const s=i.oxw();return i.KtG(s.doQuizzAction(r))}),i.ALo(10,"async"),i.ALo(11,"async"),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("ngIf",!i.lcZ(1,8,e.areResultsShown$)),i.xp6(2),i.Q6J("areQuizzLinesLoading",i.lcZ(3,10,e.areQuizzLinesLoading$))("quizLines",i.lcZ(4,12,e.quizLines$))("canQuestionBeChanged",i.lcZ(5,14,e.canQuestionBeChanged$))("disabled",i.lcZ(6,16,e.areResultsShown$)),i.xp6(5),i.Q6J("ngIf",i.lcZ(8,18,e.areResultsShown$)),i.xp6(2),i.Q6J("areResultsShown",i.lcZ(10,20,e.areResultsShown$))("isQuizzComplete",i.lcZ(11,22,e.isQuizzComplete$))}}let Ti=(()=>{class t{constructor(e){this.quizzMakerService=e,this.areQuizzCategoriesLoading$=this.quizzMakerService.areQuizzCategoriesLoading(),this.areQuizzLinesLoading$=this.quizzMakerService.areQuizzLinesLoading(),this.isQuizzMakerKo$=this.quizzMakerService.isQuizzMakerKo(),this.quizCategories$=this.quizzMakerService.getQuizzCategories(),this.quizSubcategories$=this.quizzMakerService.getQuizzSubcategories(),this.quizDifficulties$=this.quizzMakerService.getQuizzDifficulties(),this.quizLines$=this.quizzMakerService.getQuizzLines(),this.isQuizzComplete$=this.quizzMakerService.isQuizzComplete(),this.canQuestionBeChanged$=this.quizzMakerService.canQuestionBeChanged(),this.subscription=new q.w0,this.areResultsShown$=this.quizzMakerService.areResultsShown()}ngOnInit(){this.subscription.add(this.quizzMakerService.initializeQuizzCategories().subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}onReload(){this.quizzMakerService.reloadQuizz()}selectCategory(e){this.quizzMakerService.selectCategory(e)}createQuizzLines(e){this.subscription.add(this.quizzMakerService.createQuizzLines(e).subscribe())}pickAnswer(e){this.quizzMakerService.pickAnswer(e)}changeQuizzLine(e){this.subscription.add(this.quizzMakerService.changeQuizzLine(e).subscribe())}doQuizzAction(e){"submit"===e&&this.quizzMakerService.showQuizzResults(),"create"===e&&this.quizzMakerService.createNewQuizz()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ei))},t.\u0275cmp=i.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[i.jDz],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["quizzMaker",""],[3,"reload"],[3,"areQuizzCategoriesLoading","quizCategories","quizSubcategories","quizDifficulties","selectCategory","createQuizz",4,"ngIf"],[3,"areQuizzLinesLoading","quizLines","canQuestionBeChanged","disabled","pickAnswer","changeQuizzLine"],[3,"quizLines",4,"ngIf"],[3,"areResultsShown","isQuizzComplete","action"],[3,"areQuizzCategoriesLoading","quizCategories","quizSubcategories","quizDifficulties","selectCategory","createQuizz"],[3,"quizLines"]],template:function(e,o){if(1&e&&(i.YNc(0,Qi,2,0,"ng-container",0),i.ALo(1,"async"),i.YNc(2,ki,12,24,"ng-template",null,1,i.W1O)),2&e){const r=i.MAs(3);i.Q6J("ngIf",i.lcZ(1,2,o.isQuizzMakerKo$))("ngIfElse",r)}},dependencies:[c.ez,c.O5,c.Ov,ti,ei,ci,fi,Lt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;padding:1rem}"],changeDetection:0}),t})()}}]);